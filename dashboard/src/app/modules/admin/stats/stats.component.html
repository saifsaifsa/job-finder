<div class="flex flex-col flex-auto min-w-0">

  <!-- Main -->
  <div class="flex-auto p-6 sm:p-10">

    <!-- CONTENT GOES HERE -->
    <div class="h-400 min-h-400 max-h-400 border-2 border-dashed border-gray-300 rounded-2xl">

      <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
        <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
          <div class="flex items-start justify-between">
            <div class="text-lg font-medium tracking-tight leading-6 truncate"></div>
          </div>
          <div class="flex flex-col items-center mt-2">
            <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">
              {{totalUsers}}</div>
            <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Total users</div>
            <!-- <div class="flex items-baseline justify-center w-full mt-5 text-secondary">
                            <div class="text-md font-medium truncate">Completed:</div>
                            <div class="ml-1.5 text-lg font-semibold">13</div>
                        </div> -->
          </div>
        </div>
        <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden">
          <div class="flex items-start justify-between">
            <div class="text-lg font-medium tracking-tight leading-6 truncate"></div>
          </div>
          <div class="flex flex-col items-center mt-2">
            <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">
              {{activeUsers}}</div>
            <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Active users</div>
            <!-- <div class="flex items-baseline justify-center w-full mt-5 text-secondary">
                            <div class="text-md font-medium truncate"></div>
                            <div class="ml-1.5 text-lg font-semibold"></div>
                        </div> -->
          </div>
        </div>
        <!-- Roles -->
        <div class="flex flex-col flex-auto p-6 bg-card shadow rounded-2xl overflow-hidden"
          *ngFor="let usersRole of usersRoles | keyvalue ">
          <div class="flex items-start justify-between">
            <div class="text-lg font-medium tracking-tight leading-6 truncate"></div>
          </div>
          <div class="flex flex-col items-center mt-2">
            <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">
              {{usersRole.value}}</div>
            <div class="text-lg font-medium text-blue-600 dark:text-blue-500">{{usersRole.key}}</div>
            <!-- <div class="flex items-baseline justify-center w-full mt-5 text-secondary">
                            <div class="text-md font-medium truncate">Completed:</div>
                            <div class="ml-1.5 text-lg font-semibold">13</div>
                        </div> -->
          </div>
        </div>
      </div>
      <div class="mt-6" *ngIf="usersRolePieChart?.length">
        <h3 class="text-lg font-medium">User roles</h3>
        <ngx-charts-pie-chart [view]="[700, 400]"  [results]="usersRolePieChart" [scheme]="colorScheme" [legend]="true"
        [doughnut]="false" [labels]="true">
      </ngx-charts-pie-chart>
      </div>
    <div class="mt-2 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-6 w-full min-w-0">
      <!-- Total companies -->
      <div class="flex flex-col items-center mt-2">
        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">
          {{ totalCompanies }}
        </div>
        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Total Companies</div>
      </div>
      <!-- Total Offres -->
      <div class="flex flex-col items-center mt-2">
        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">
          {{ totalOffres }}
        </div>
        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Total Offres</div>
      </div>

      <!-- Total Trainings -->
      <div class="flex flex-col items-center mt-2">
        <div class="text-7xl sm:text-8xl font-bold tracking-tight leading-none text-blue-500">
          {{ totalTrainings }}
        </div>
        <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Total Trainings</div>
      </div>
    </div>

      <!-- Most Liked Trainings -->
      <div class="mt-6" *ngIf="mostLikedTrainings?.length">
        <h3 class="text-lg font-medium">Most Liked Trainings</h3>
        <ngx-charts-bar-vertical [results]="mostLikedTrainings" [scheme]="colorScheme" [legend]="true" [xAxis]="true"
          [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Trainings" yAxisLabel="Likes">
        </ngx-charts-bar-vertical>
      </div>


      <!-- Most Disliked Trainings -->
      <div class="mt-6" *ngIf="mostDislikedTrainings?.length">
        <h3 class="text-lg font-medium">Most Disliked Trainings</h3>
        <ngx-charts-bar-vertical [results]="mostDislikedTrainings" [scheme]="colorScheme" [legend]="true" [xAxis]="true"
          [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Trainings" yAxisLabel="Dislikes">
        </ngx-charts-bar-vertical>
      </div>

            <!-- Most Liked companies -->
            <div class="mt-6" *ngIf="mostLikedCompanies?.length">
              <h3 class="text-lg font-medium">Most Liked Companies</h3>
              <ngx-charts-bar-vertical [results]="mostLikedCompanies" [scheme]="colorScheme" [legend]="true" [xAxis]="true"
                [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Companies" yAxisLabel="Rating">
              </ngx-charts-bar-vertical>
            </div>

      <!-- Most Popular Categories -->
      <div class="mt-6" *ngIf="mostPopularCategories?.length">
        <h3 class="text-lg font-medium">Most Popular Categories</h3>
        <ngx-charts-pie-chart [view]="[700, 400]"  [results]="mostPopularCategories" [scheme]="colorScheme" [legend]="true"
          [doughnut]="false" [labels]="true">
        </ngx-charts-pie-chart>
      </div>

      <!-- Most Popular Companies -->
      <div class="mt-6" *ngIf="mostPopularIndustry?.length">
        <h3 class="text-lg font-medium">Most Popular Companies Industries</h3>
        <ngx-charts-pie-chart [view]="[700, 400]"  [results]="mostPopularIndustry" [scheme]="colorScheme" [legend]="true"
          [doughnut]="false" [labels]="true">
        </ngx-charts-pie-chart>
      </div>

      <!-- Average Price Per Category -->
      <div class="mt-6" *ngIf="averagePricePerCategory?.length">
        <h3 class="text-lg font-medium">Average Price Per Category</h3>
        <ngx-charts-bar-vertical [results]="averagePricePerCategory" [scheme]="colorScheme" [legend]="true"
          [xAxis]="true" [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Categories"
          yAxisLabel="Price">
        </ngx-charts-bar-vertical>
      </div>

      <!-- Average Duration Per Category -->
      <div class="mt-6" *ngIf="averageDurationPerCategory?.length">
        <h3 class="text-lg font-medium">Average Duration Per Category</h3>
        <ngx-charts-bar-vertical [results]="averageDurationPerCategory" [scheme]="colorScheme" [legend]="true"
          [xAxis]="true" [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Categories"
          yAxisLabel="Duration (hours)">
        </ngx-charts-bar-vertical>
      </div>

      <!-- Number Of Trainings Per Category -->
      <div class="mt-6" *ngIf="numberOfTrainingsPerCategory?.length">
        <h3 class="text-lg font-medium">Number of Trainings Per Category</h3>
        <ngx-charts-bar-vertical [results]="numberOfTrainingsPerCategory" [scheme]="colorScheme" [legend]="true"
          [xAxis]="true" [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Categories"
          yAxisLabel="Number of Trainings">
        </ngx-charts-bar-vertical>
      </div>
      <!-- Number Of Trainings Per Company -->
      <div class="mt-6" *ngIf="numberOfCompaniesPerIndustry?.length">
        <h3 class="text-lg font-medium">Number of Companies Per Industry</h3>
        <ngx-charts-bar-vertical [results]="numberOfCompaniesPerIndustry" [scheme]="colorScheme" [legend]="true"
          [xAxis]="true" [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Industries"
          yAxisLabel="Number of Companies">
        </ngx-charts-bar-vertical>
      </div>


      <!-- Monthly Engagement Trends -->
      <div class="mt-6" *ngIf="monthlyEngagementTrends?.length">
        <h3 class="text-lg font-medium">Monthly Engagement Trends</h3>
        <ngx-charts-line-chart [results]="monthlyEngagementTrends" [scheme]="colorScheme" [legend]="true" [xAxis]="true"
          [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Months" yAxisLabel="Engagement">
        </ngx-charts-line-chart>
      </div>

      <!-- Rating Trends Over Time -->
      <div class="mt-6" *ngIf="ratingTrendsOverTime?.length">
        <h3 class="text-lg font-medium">Rating Trends Over Time</h3>
        <ngx-charts-line-chart [results]="ratingTrendsOverTime" [scheme]="colorScheme" [legend]="true" [xAxis]="true"
          [yAxis]="true" [showXAxisLabel]="true" [showYAxisLabel]="true" xAxisLabel="Time" yAxisLabel="Ratings">
        </ngx-charts-line-chart>
      </div>
    </div>
  </div>
</div>